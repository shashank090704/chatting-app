<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    
    <!-- <script src="https://localhost:3000/socket.io/socket.io.js"></script> -->
    <link rel="stylesheet" href="../style/stylesheet.css">
</head>
<body>
    <h1 style="font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif; color: black;">Message App</h1>
    
     <!-- <div class="container">
        <form id="form1" action=""> -->
        <!-- <input type="text" id="name"> -->
        <!-- <input type="text" id="message">
        <button type="submit" id="send">send</button>
    </form> -->
</div>

<div class="container2">
    <div class="contmessase"></div>
    <div class="contsend"> 
        <form id="form1" action="">
        <!-- <input type="text" id="name"> -->
        <input type="text" id="message">
        <button type="submit" id="send">Send ></button>
   </form>
</div>
</div>
    
    

    <script src="https://cdn.socket.io/4.7.2/socket.io.min.js"></script>
    <script>
         const socket = io();
         let f1 = document.querySelector("#form1");
         let message = document.querySelector("#message")
         f1.addEventListener("submit", function(e){
            e.preventDefault();
             if(message.value){
                socket.emit("message" , message.value);
                console.log("message send");
                let d  =  document.createElement('p');
                d.innerText =  message.value;
               let  parent = document.querySelector(".contmessase");
                 d.classList.add("ps");
               parent.insertBefore(d , parent.firstChild);
                message.value = "";
             }
         })

         socket.on("sendmess",(mess)=>{
          let d  =  document.createElement('p');
          d.innerText = mess;
          let  parent = document.querySelector(".contmessase");
          d.classList.add("pr")
          parent.insertBefore(d , parent.firstChild);

         })

         
    </script>
</body>
</html>